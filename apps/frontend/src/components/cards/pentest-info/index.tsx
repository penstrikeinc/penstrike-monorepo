import * as React from 'react';
import Card from '@mui/material/Card';
import CardContent from '@mui/material/CardContent';
import Timeline from '@mui/lab/Timeline';
import TimelineItem, { timelineItemClasses } from '@mui/lab/TimelineItem';
import TimelineSeparator from '@mui/lab/TimelineSeparator';
import TimelineConnector from '@mui/lab/TimelineConnector';
import TimelineContent from '@mui/lab/TimelineContent';
import TimelineDot from '@mui/lab/TimelineDot';
import { alpha, useTheme } from '@mui/material/styles';
import { TPentestInfo } from 'src/types';

interface PentestInfoCardProps {
  info: TPentestInfo;
  index: number;
}

export function PentestInfoCard(props: PentestInfoCardProps) {
  const {
    info: { title, content, content2 },
    index,
  } = props;
  const theme = useTheme();

  const timelineDotStyle = {
    bgcolor: alpha(theme.palette.primary.main, 0.6),
    margin: 0,
  };

  return (
    <Card sx={{ height: 240 }}>
      <CardContent>
        <Timeline
          sx={{
            [`& .${timelineItemClasses.root}:before`]: {
              flex: 0,
              padding: 0,
            },
            p: 0,
          }}
        >
          <TimelineItem sx={{ ml: -1.5 }}>
            <TimelineSeparator>
              <TimelineDot
                sx={{
                  bgcolor: alpha(theme.palette.primary.main, 0.2),
                  width: 35,
                  height: 35,
                  margin: 0,
                  display: 'flex',
                  alignItems: 'center',
                  justifyContent: 'center',
                }}
              >
                <span>{index}</span>
              </TimelineDot>
              <TimelineConnector />
            </TimelineSeparator>
            <TimelineContent sx={{ fontSize: 20 }}> {title}</TimelineContent>
          </TimelineItem>
          <TimelineItem>
            <TimelineSeparator>
              <TimelineDot sx={timelineDotStyle} />
              <TimelineConnector />
            </TimelineSeparator>
            <TimelineContent color="text.secondary" mt={-1.5} sx={{ fontSize: 15 }}>
              {content}
            </TimelineContent>
          </TimelineItem>
          <TimelineItem>
            <TimelineSeparator>
              <TimelineDot sx={timelineDotStyle} />
            </TimelineSeparator>
            <TimelineContent color="text.secondary" mt={-1.5} sx={{ fontSize: 15 }}>
              {content2}
            </TimelineContent>
          </TimelineItem>
        </Timeline>
      </CardContent>
    </Card>
  );
}
